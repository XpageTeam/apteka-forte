{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/ts/common.ts","webpack:///./src/ts/app.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","app_1","App","domReady","window","addEventListener","maxHeight","each","el","parseInt","getComputedStyle","height","style","callback","document","e","Error","getElements","selector","elements","querySelectorAll","length","getElement","querySelector","elementsGetter","transformNodeListToArray","list","Array","slice","wrap","wrapper","localWrapper","createElement","HTMLElement","innerHTML","outerHTML","parentNode","replaceChild","NodeList","_i","elements_1","console","error","Element","this","_length","els","_els","is","element","has","searchElements","isFinded","_a","_b","searchElements_1","target","contains","addClass","className","classList","add","removeClass","remove","toggleClass","hasClass","targetClass","find","searchingElements","findedElements","el_1","push","EventListener","_super","__extends","event","options","trigger","evt","createEvent","initEvent","dispatchEvent","mobileMenu","settings","_state","_error","menuActiveClass","bodyActiveClass","body","_settings","burger","menu","bindEvents","text","newState","_menu","_burger","openMenu","matchMedia","media","matches","fixBody","top","pageYOffset","position","state","closeMenu","Math","abs","scrollTo","toggleMenu","_this","MobileMenu"],"mappings":"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","file":"js/common.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","import {App, Element} from \"./app\"\r\n\r\nApp.domReady(() => {\r\n\t;(function(){\r\n\t\twindow.addEventListener(\"load\", function(){\r\n\t\t\tlet maxHeight = 0;\r\n\r\n\t\t\tApp.each(\".cat-item__img\", (el: HTMLElement, i: number) => {\r\n\t\t\t\tif (maxHeight < parseInt(getComputedStyle(el).height))\r\n\t\t\t\t\tmaxHeight = parseInt(getComputedStyle(el).height)\r\n\t\t\t})\r\n\r\n\t\t\tApp.each(\".cat-item__img\", (el: HTMLElement, i: number) => {\r\n\t\t\t\tel.style.height = (maxHeight + \"px\")\r\n\t\t\t})\r\n\t\t})\r\n\t})()\r\n})","class App {\r\n\t// private document: any = document;\r\n\r\n\tpublic static domReady(callback: any): void {\r\n\t\ttry{\r\n\t\t\tdocument.addEventListener(\"DOMContentLoaded\", callback)\r\n\t\t}catch(e){\r\n\t\t\tthrow Error(e)\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static getElements(selector: string): NodeList{\r\n\t\tconst elements: any = document.querySelectorAll(selector);\r\n\r\n\t\treturn elements.length ? elements : []\r\n\t\t// return this.elementsGetter(sele ctor)\r\n\t}\r\n\r\n\t/**\r\n\t* Метод получения одно объекта по селектору\r\n\t* @param selector: string\r\n\t* @return HTMLElement\r\n\t*/\r\n\tpublic static getElement(selector: string): HTMLElement{\r\n\t\tconst element: any = document.querySelector(selector);\r\n\r\n\t\treturn element\r\n\t}\r\n\r\n\tpublic static elementsGetter(selector: string): HTMLElement[]{\r\n\t\treturn App.transformNodeListToArray(document.querySelectorAll(selector))\r\n\t}\r\n\r\n\tpublic static transformNodeListToArray(list: NodeList): HTMLElement[]{\r\n\t\ttry{\r\n\t\t\treturn Array.prototype.slice.call(list)\r\n\t\t}catch(e){\r\n\t\t\tthrow Error(e)\r\n\t\t\treturn []\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static wrap(selector: any, wrapper: HTMLElement): void\r\n\tpublic static wrap(selector: any, wrapper: string): void\r\n\tpublic static wrap(selector: any, wrapper: any): void{\r\n\t\tlet localWrapper: HTMLElement;\r\n\r\n\t\tif (typeof wrapper == \"string\")\r\n\t\t\tlocalWrapper = document.createElement(wrapper)\r\n\t\telse if (wrapper instanceof HTMLElement)\r\n\t\t\tlocalWrapper = wrapper\r\n\r\n\t\t// console.log(selector, [localWrapper])\r\n\r\n\t\tApp.each(selector, function(el: HTMLElement, i:number){\r\n\t\t\tlocalWrapper.innerHTML = el.outerHTML\r\n\r\n\t\t\tel.parentNode.replaceChild(localWrapper, el)\r\n\t\t})\r\n\t}\r\n\r\n\tpublic static each(elements: string, callback: any): void\r\n\tpublic static each(elements: HTMLElement[], callback: any): void\r\n\tpublic static each(elements: NodeList, callback: any): void\r\n\tpublic static each(elements: any, callback: any): void{\r\n\r\n\t\tif (!callback){\r\n\t\t\tconsole.error(\"Callback does not exists in yours 'each'\")\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (typeof elements == \"string\")\r\n\t\t\telements = App.transformNodeListToArray(App.getElements(elements))\r\n\t\telse if (elements instanceof NodeList)\r\n\t\t\telements = App.transformNodeListToArray(elements)\r\n\r\n\t\tlet i = 0;\r\n\r\n\t\tfor (let el of elements){\r\n\t\t\tcallback(el, i)\r\n\t\t\ti++\r\n\t\t}\r\n\t}\r\n}\r\n\r\nclass Element {\r\n\t// private _selector: string\r\n\tprotected _els: HTMLElement[]\r\n\tpublic _length: number = 0\r\n\r\n\tset els(elements: HTMLElement[]){\r\n\t\tthis._els = elements\r\n\r\n\t\tthis._length = elements.length || 0\r\n\t}\r\n\r\n\tget els(){\r\n\t\treturn this._els\r\n\t}\r\n\r\n\tget length(){\r\n\t\treturn this._length\r\n\t}\r\n\r\n\t/**\r\n\t* Создание коллекции элементов\r\n\t* @param selector: HTMLElement[] || NodeList || HTMLElement || Element || string\r\n\t* @return Element\r\n\t*/  \r\n\tconstructor (selector: HTMLElement[])\r\n\tconstructor (selector: NodeList)\r\n\tconstructor (selector: Element)\r\n\tconstructor (selector: HTMLElement)\r\n\tconstructor (selector: string)\r\n\tconstructor (selector: any){\r\n\r\n\r\n\t\tif (typeof selector == \"string\")\r\n\t\t\tthis.els = App.elementsGetter(selector)\r\n\t\telse if (selector instanceof HTMLElement)\r\n\t\t\tthis.els = [selector]\r\n\t\telse if (selector instanceof NodeList)\r\n\t\t\tthis.els = App.transformNodeListToArray(selector)\r\n\t\telse if (selector instanceof Array && (selector[0] instanceof HTMLElement || !selector.length))\r\n\t\t\tthis.els = selector\r\n\t\telse if (selector instanceof Element)\r\n\t\t\tthis.els = selector.els\r\n\t\telse\r\n\t\t\tthrow Error(`Invalid selector: ${selector}`)\r\n\t}\r\n\r\n\r\n\t/** \r\n\t* Метод сравнения элементов\r\n\t* @param selector: HTMLElement || string\r\n\t* @return boolean\r\n\t*/\r\n\tpublic is(selector: HTMLElement): boolean\r\n\tpublic is(selector: string): boolean\r\n\tpublic is(selector: any): boolean{\r\n\t\tlet element: HTMLElement[];\r\n\r\n\t\tif (typeof selector == \"string\")\r\n\t\t\telement = App.elementsGetter(selector)\r\n\t\telse if (selector instanceof HTMLElement)\r\n\t\t\telement = [selector]\r\n\r\n\t\treturn this.els[0] == element[0]\r\n\t}\r\n\r\n\t/** Метод проверки содержания текущими элементами передаваемых\r\n\t* @param selector: Element || HTMLElement || HTMLElement[] || NodeList || string\r\n\t* @return boolean\r\n\t*/\r\n\tpublic has(selector: Element): boolean\r\n\tpublic has(selector: HTMLElement): boolean\r\n\tpublic has(selector: HTMLElement[]): boolean\r\n\tpublic has(selector: NodeList): boolean\r\n\tpublic has(selector: string): boolean\r\n\tpublic has(selector: any): boolean{\r\n\t\tlet searchElements: HTMLElement[];\r\n\r\n\t\tif (typeof selector == \"string\")\r\n\t\t\tsearchElements = App.elementsGetter(selector)\r\n\t\telse if (selector instanceof HTMLElement)\r\n\t\t\tsearchElements = [selector]\r\n\t\telse if (selector instanceof Element)\r\n\t\t\tsearchElements = selector._els\r\n\t\telse if (selector instanceof NodeList)\r\n\t\t\tsearchElements = App.transformNodeListToArray(selector)\r\n\t\telse if (selector instanceof Array && (selector[0] instanceof HTMLElement || !selector.length))\r\n\t\t\tsearchElements = selector\r\n\t\telse\r\n\t\t\tthrow Error(`Invalid selector: ${selector}`)\r\n\r\n\t\tlet isFinded: boolean = false;\r\n\r\n\t\tfor (let el of this.els){\r\n\r\n\t\t\tfor (let target of searchElements)\r\n\t\t\t\tif (el.contains(target)){\r\n\t\t\t\t\tisFinded = true\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\r\n\t\t\tif (isFinded)\r\n\t\t\t\treturn true\r\n\t\t}\r\n\r\n\t\treturn false\r\n\t}\r\n\r\n\t/**\r\n\t* Назначить класс всем текущим элементам\r\n\t* @param className: string\r\n\t* @return Element\r\n\t*/\r\n\tpublic addClass(className: string): Element{\r\n\t\tApp.each(this.els, (el: HTMLElement) => {\r\n\t\t\tel.classList.add(className)\r\n\t\t})\r\n\t\treturn this\r\n\t}\r\n\r\n\t/**\r\n\t* Удалить класс у всех текущих элементов\r\n\t* @param className: string\r\n\t* @return Element\r\n\t*/\r\n\tpublic removeClass(className: string): Element{\r\n\t\tApp.each(this.els, (el: HTMLElement) => {\r\n\t\t\tel.classList.remove(className)\r\n\t\t})\r\n\t\treturn this\r\n\t}\r\n\r\n\t/**\r\n\t* Переключения класса у всех текущих элементов\r\n\t* @param className: string\r\n\t* @return Element\r\n\t*/\r\n\tpublic toggleClass(className: string, callback: Function = () => {}): Element{\r\n\t\tApp.each(this.els, (el: HTMLElement) => {\r\n\t\t\tif (el.classList.contains(className)){\r\n\t\t\t\tel.classList.remove(className)\r\n\r\n\t\t\t\tcallback(false)\r\n\t\t\t}else{\r\n\t\t\t\tel.classList.add(className)\r\n\t\t\t\tcallback(true)\r\n\t\t\t}\r\n\t\t})\r\n\t\treturn this\r\n\t}\r\n\r\n\tpublic hasClass(targetClass: string): boolean{\r\n\t\tfor (const el of this.els)\r\n\t\t\tif (el.classList.contains(targetClass))\r\n\t\t\t\treturn true\r\n\r\n\t\treturn false\r\n\t}\r\n\r\n\tpublic find(selector: string): Element{\r\n\t\tlet searchingElements = new Array();\r\n\r\n\t\tApp.each(this.els, (el: HTMLElement) => {\r\n\t\t\tconst findedElements: NodeList = el.querySelectorAll(selector);\r\n\r\n\t\t\tif (!findedElements.length)\r\n\t\t\t\treturn\r\n\r\n\t\t\tfor (const el of App.transformNodeListToArray(findedElements))\r\n\t\t\t\tsearchingElements.push(el)\r\n\r\n\t\t\t// searchingElements.concat(App.transformNodeListToArray(findedElements))\r\n\r\n\t\t\t// console.log(searchingElements instanceof Array, App.transformNodeListToArray(findedElements) instanceof Array)\r\n\t\t})\r\n\r\n\t\treturn new Element(searchingElements)\r\n\t}\r\n}\r\n\r\ninterface EventOtions{\r\n\tcapture?: boolean,\r\n\tonce?: boolean,\r\n\tpassive?: boolean\r\n}\r\n\r\nclass EventListener extends Element{\r\n\r\n\t/** \r\n\t* Метод для подписки на событие\r\n\t* @param event: string - название js события\r\n\t* @param callback: function\r\n\t* @param options: object\r\n\t* @retrun EventListener\r\n\t*/\r\n\tpublic add(event: string, callback: any, options?: EventOtions): EventListener{\r\n\r\n\t\tApp.each(this.els, function(el:HTMLElement){\r\n\t\t\tel.addEventListener(event, function(event){\r\n\t\t\t\tcallback(this, event)\r\n\t\t\t}, options)\r\n\t\t})\r\n\r\n\t\treturn this\r\n\t}\r\n\r\n\t/** \r\n\t* Метод для вызова события\r\n\t* @param event: string - название js события\r\n\t* @retrun EventListener\r\n\t*/\r\n\tpublic trigger(event: string): EventListener{\r\n\t\tApp.each(this.els, function(el: HTMLElement){\r\n\t\t\tlet evt: Event = document.createEvent(\"HTMLEvents\");\r\n\r\n\t\t\tevt.initEvent(event, false, true)\r\n\t\t\tel.dispatchEvent(evt)\r\n\t\t})\r\n\r\n\t\treturn this\r\n\t}\r\n}\r\n\r\ninterface mobileMenuSettings {\r\n\tburger: string,\r\n\tmenu: string,\r\n\tmenuActiveClass: string,\r\n\tbodyActiveClass: string,\r\n\tignoreWarnings: boolean,\r\n\tfixBody: boolean,\r\n\tmedia?: string,\r\n}\r\n\r\nclass mobileMenu{\r\n\tprivate _settings: mobileMenuSettings\r\n\tprivate _burger: HTMLElement\r\n\tprivate _menu: HTMLElement\r\n\tprivate _state: boolean = false\r\n\tprivate _error: boolean = false\r\n\tprivate menuActiveClass: string = \"js__opened\"\r\n\tprivate bodyActiveClass: string = \"js__menu-opened\"\r\n\tprivate body: HTMLElement = App.getElement(\"body\")\r\n\r\n\tset error(text: string){\r\n\t\tthis._error = true\r\n\r\n\t\tconsole.error(`${text}. Меню не работает`)\r\n\t}\r\n\r\n\tset state(newState: boolean){\r\n\t\tthis._state = newState\r\n\t}\r\n\r\n\r\n\tset menu (el: HTMLElement){\r\n\t\tif (!(el instanceof HTMLElement))\r\n\t\t\tthis.error = \"Меню не найдено\"\r\n\t\telse\r\n\t\t\tthis._menu = el\r\n\t}\r\n\r\n\tset burger(el: HTMLElement){\r\n\t\tif (!(el instanceof HTMLElement))\r\n\t\t\tthis.error = \"Бургер не найден\"\r\n\t\telse\r\n\t\t\tthis._burger = el\r\n\t}\r\n\r\n\tget burger(){\r\n\t\treturn this._burger\r\n\t}\r\n\r\n\tget menu(){\r\n\t\treturn this._menu\r\n\t}\r\n\r\n\tget settings(){\r\n\t\treturn this._settings\r\n\t}\r\n\r\n\tget state(){\r\n\t\treturn this._state\r\n\t}\r\n\r\n\tconstructor(settings: mobileMenuSettings){\r\n\t\tthis._settings = settings\r\n\t\tthis.burger = App.getElement(settings.burger)\r\n\r\n\t\tthis.menu = App.getElement(settings.menu)\r\n\r\n\t\tthis.bindEvents()\r\n\t}\r\n\r\n\tpublic openMenu(): mobileMenu{\r\n\t\tif (!window.matchMedia(this.settings.media).matches)\r\n\t\t\treturn\r\n\r\n\t\tif (this.settings.fixBody){\r\n\t\t\tthis.body.style.top = -window.pageYOffset + \"px\";\r\n\t\t\tthis.body.style.position = \"fixed\";\r\n\t\t}\r\n\r\n\t\tthis.burger.classList.add(\"js__active\")\r\n\t\tthis.menu.classList.add(this.menuActiveClass)\r\n\t\tthis.body.classList.add(this.bodyActiveClass)\r\n\r\n\t\tthis.state = true\r\n\r\n\t\treturn this\r\n\t}\r\n\r\n\tpublic closeMenu(): mobileMenu{\r\n\t\tif (!window.matchMedia(this.settings.media).matches || !this.state)\r\n\t\t\treturn\r\n\r\n\t\tlet top: number = 0;\r\n\r\n\t\tif (this.settings.fixBody){\r\n\t\t\ttop = Math.abs(parseInt(this.body.style.top))\r\n\r\n\t\t\tthis.body.style.top = \"\"\r\n\t\t\tthis.body.style.position = \"\"\r\n\t\t}\r\n\r\n\t\tthis.burger.classList.remove(\"js__active\")\r\n\t\tthis.menu.classList.remove(this.menuActiveClass)\r\n\t\tthis.body.classList.remove(this.bodyActiveClass)\r\n\r\n\t\tif (this.settings.fixBody)\r\n\t\t\twindow.scrollTo(0, top)\r\n\r\n\t\tthis.state = false\r\n\r\n\t\treturn this\r\n\t}\r\n\r\n\tpublic toggleMenu(): mobileMenu{\r\n\t\tif (!window.matchMedia(this.settings.media).matches)\r\n\t\t\treturn\r\n\r\n\t\tif (this.state)\r\n\t\t\tthis.closeMenu()\r\n\t\telse\r\n\t\t\tthis.openMenu()\r\n\r\n\t\treturn this\r\n\t}\r\n\r\n\tprivate bindEvents(){\r\n\t\tdocument.addEventListener(\"click\", (event: any) => {\r\n\t\t\tconst target: Element = new Element(event.target);\r\n\t\t\t\r\n\t\t\tif(!target.is(this.burger)\r\n\t\t\t\t&& !new Element(this.burger).has(target)\r\n\t\t\t\t&& !target.is(this.menu)\r\n\t\t\t\t&& !new Element(this.menu).has(target))\r\n\t\t\t\tthis.closeMenu()\r\n\t\t})\r\n\r\n\t\tnew EventListener(this.burger).add(\"click\", (el: HTMLElement) => {\r\n\t\t\tthis.toggleMenu()\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport {App, EventListener, mobileMenu as MobileMenu, Element}"],"sourceRoot":""}